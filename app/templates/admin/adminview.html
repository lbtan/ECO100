<!DOCTYPE html>

<!-- =========================================================== -->
<!-- adminview.html                                              -->
<!-- Author: Anaika Mehra                                          -->
<!-- =========================================================== -->


<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- Bootstrap -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" 
            integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
        <!-- Custom CSS Module -->
        <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/styles.css') }}">       
        <title>Dashboard</title>
        <!-- Bootstrap JS and jQuery -->
        <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <!-- Include external JavaScript file -->
        <script src="{{ url_for('static', filename='js/script.js') }}"></script>
    </head>


    <body>
        {% include 'headerDynamic.html' with context %}

        <div class="container-fluid" >
  
        <div class="split left">
        
            <div style="margin:0.1px;" class="container" >
        
                <div class="col-md-6">
                <div class="card">
                    <div class="card-header custombg-warm text-white">
                    Overview
                    </div>
                    <ul class="list-group list-group-flush">
                    <li class="list-group-item">
                        <button class="btn warm-btn float-left weekly-summary-btn">View Weekly Summary</button>
                        <button class="btn warm-btn float-left tutor-overview-btn">View Tutor Overview</button>
                    </li>
                    <li class="list-group-item">
                        <h5>Upload new user netids (as csv file)</h5>

                        <form method="POST" action="/upload" enctype="multipart/form-data">
                            <label for="user_type">User Type:</label>
                            <select name="user_type" id="user_type">
                                <option value="admin">Admin</option>
                                <option value="tutor">Tutor</option>
                                <option value="student">Student</option>
                            </select>
                            
                            <input type="file" id="users_file" name="users_file">

                            <input type="submit" class="btn warm-btn float-none" value="Submit">

                        </form>
                    </li>
                    </ul>
                </div>
                </div>
            </div>
        </div>

        <hr>

        <!-- Include popup containers -->
        <div id="overview-modal-container"></div>
        <div id="summary-modal-container"></div>

        {% if upload_message %}
            <div id="upload-confirm-modal-container">
                <div class="modal fade" id="uploadConfirmModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <h4 class="modal-title" id="modelLabel">Tutor Overview</h4>
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                    <span aria-hidden="true">&times;</span>
                                </button>
                            </div>
                            <div class="modal-body">            
                                {{upload_message}}       
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        {% endif %}

        {% include 'schedule.html' with context %}

        </div>

        {% include 'footer.html' with context %}
        
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
        
        {% if upload_message %}
        <script>
            $(document).ready(function() {
                $('#uploadConfirmModal').modal('show');
            });
        </script>
        {% endif %}
    </body>

</html>
